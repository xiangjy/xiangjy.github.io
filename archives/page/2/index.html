
<!DOCTYPE html>
<html lang="zh-cn">
    
<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Xiangjy&#39;s Blog">
    <title>归档 - Xiangjy&#39;s Blog</title>
    <meta name="author" content="Xiangjy">
    
    
        <link rel="icon" href="http://localhost:4000/assets/images/dx.png">
    
    
        <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
    
    <script type="application/ld+json">{}</script>
    <meta property="og:type" content="blog">
<meta property="og:title" content="Xiangjy&#39;s Blog">
<meta property="og:url" content="http://localhost:4000/archives/page/2/index.html">
<meta property="og:site_name" content="Xiangjy&#39;s Blog">
<meta property="og:locale" content="zh-cn">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Xiangjy&#39;s Blog">
    
    
        
    
    
        <meta property="og:image" content="http://localhost:4000/assets/images/dx.png"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-c4ozcsklz4kht2pebhp44xorvyverh23toayhn7i6ubrpyedak24hv1v0hyd.min.css">
    <!--STYLES END--><!-- hexo-inject:begin --><!-- hexo-inject:end -->
    

    
</head>

    <body>
        <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="2">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">Xiangjy&#39;s Blog</a>
    </div>
    
        
            <a class="header-right-picture " href="#about">
        
        
            <img class="header-picture" src="/assets/images/dx.png" alt="作者的图片">
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="2">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/dx.png" alt="作者的图片">
                </a>
                <h4 class="sidebar-profile-name">Xiangjy</h4>
                
                    <h5 class="sidebar-profile-bio"><p>author.bio</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/ " title="首页">
                    
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">首页</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-categories" title="分类">
                    
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">分类</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-tags" title="标签">
                    
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">标签</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/all-archives" title="归档">
                    
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">归档</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link open-algolia-search" href="#search" title="搜索">
                    
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">搜索</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="#about" title="关于">
                    
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">关于</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://github.com/" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="http://stackoverflow.com/users" target="_blank" rel="noopener" title="Stack Overflow">
                    
                        <i class="sidebar-button-icon fab fa-stack-overflow" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Stack Overflow</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://twitter.com/" target="_blank" rel="noopener" title="Twitter">
                    
                        <i class="sidebar-button-icon fab fa-twitter" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Twitter</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://facebook.com/" target="_blank" rel="noopener" title="Facebook">
                    
                        <i class="sidebar-button-icon fab fa-facebook" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Facebook</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://plus.google.com/" target="_blank" rel="noopener" title="Google Plus">
                    
                        <i class="sidebar-button-icon fab fa-google-plus" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Google Plus</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="https://www.linkedin.com/profile/" target="_blank" rel="noopener" title="LinkedIn">
                    
                        <i class="sidebar-button-icon fab fa-linkedin" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">LinkedIn</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/mailto" title="邮箱">
                    
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">邮箱</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a class="sidebar-button-link " href="/atom.xml" title="RSS">
                    
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="2"
                 class="
                        hasCoverMetaIn
                        ">
                
    <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2017/09/12/scrapy/">
                            scrapy
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-09-12T10:10:38+08:00">
	
		    9月 12, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    
                    
                        

                    
                    
                        <p>
                            <a href="/2017/09/12/scrapy/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2017/09/08/pypi-server/">
                            pypi私有服务器
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-09-08T18:57:18+08:00">
	
		    9月 08, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="pypi-server搭建"><a href="#pypi-server搭建" class="headerlink" title="pypi-server搭建"></a>pypi-server搭建</h2><h3 id="pypi官方说明"><a href="#pypi官方说明" class="headerlink" title="pypi官方说明"></a><a href="http://wiki.python.org/moin/PyPiImplementations" target="_blank" rel="noopener">pypi官方说明</a></h3><h3 id="1-基础安装和启动"><a href="#1-基础安装和启动" class="headerlink" title="1.基础安装和启动"></a>1.基础安装和启动</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ pip install pypiserver</span><br><span class="line">$ mkdir ~/pypi/packages</span><br><span class="line"># copy some source packages or eggs to this directory</span><br><span class="line">$ pypi-server -p 3141 ~/pypi/packages</span><br><span class="line">$ pip install -i http://localhost:8001/simple/ ...</span><br></pre></td></tr></table></figure>
<h3 id="2-添加上传密码"><a href="#2-添加上传密码" class="headerlink" title="2.添加上传密码"></a>2.添加上传密码</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ pip install passlib</span><br><span class="line">$ apt-get install apache2-utils     # Mac OS不用安装</span><br><span class="line">$ htpasswd -sc ~/pypi/.htaccess user   # 回车后会提示输入密码，输入123</span><br></pre></td></tr></table></figure>
<h3 id="3-启动pypi-server时加载密钥文件"><a href="#3-启动pypi-server时加载密钥文件" class="headerlink" title="3.启动pypi server时加载密钥文件"></a>3.启动pypi server时加载密钥文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pypi-server -p 3141 -P ~/pypi/.htaccess ./packages</span><br></pre></td></tr></table></figure>
<h3 id="4-在用户根目录下创建-pypirc文件"><a href="#4-在用户根目录下创建-pypirc文件" class="headerlink" title="4.在用户根目录下创建.pypirc文件"></a>4.在用户根目录下创建.pypirc文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[distutils]</span><br><span class="line">index-servers =</span><br><span class="line">  privatepypi</span><br><span class="line"></span><br><span class="line">[privatepypi]</span><br><span class="line">repository:http://127.0.0.1:3141</span><br><span class="line">username:user</span><br><span class="line">password:123</span><br></pre></td></tr></table></figure>
<h3 id="5-上传package"><a href="#5-上传package" class="headerlink" title="5.上传package"></a>5.上传package</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python setup.py sdist upload -r privatepypi</span><br></pre></td></tr></table></figure>
<h3 id="6-下载package"><a href="#6-下载package" class="headerlink" title="6.下载package"></a>6.下载package</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pip install -i http://localhost:3134/simple/ package-name</span><br></pre></td></tr></table></figure>
<h3 id="7-setup-py文件示例"><a href="#7-setup-py文件示例" class="headerlink" title="7.setup.py文件示例"></a>7.setup.py文件示例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">import importlib</span><br><span class="line">from setuptools import setup, find_packages</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">PROJECT = &apos;libs&apos;</span><br><span class="line">requires = []</span><br><span class="line"># 读取requirements.txt文件，获得需要安装基础包</span><br><span class="line">with open(&apos;requirements.txt&apos;) as f:</span><br><span class="line">    for line in f.readlines():</span><br><span class="line">        requires.append(line.strip())</span><br><span class="line"></span><br><span class="line"># 打包时替换version.py文件</span><br><span class="line">if sys.argv[1] == &apos;sdist&apos;:</span><br><span class="line">    version_py = importlib.import_module(&apos;&#123;project&#125;.version&apos;.format(project=PROJECT))</span><br><span class="line">    version_py.update_version_file(&apos;&#123;project&#125;/version.py&apos;.format(project=PROJECT))</span><br><span class="line"># reload version模块，确保在替换version.py文件后获得最新的version号</span><br><span class="line">version = reload(importlib.import_module(&apos;&#123;pro&#125;.version&apos;.format(pro=PROJECT))).get_version()</span><br><span class="line"></span><br><span class="line">with open(&apos;README.md&apos;, &apos;r&apos;) as f:</span><br><span class="line">    readme = f.read()</span><br><span class="line"></span><br><span class="line">setup(</span><br><span class="line">    name=&apos;libs&apos;,</span><br><span class="line">    version=version,</span><br><span class="line">    description=&apos;libs is the common lib for Django project&apos;,</span><br><span class="line">    long_description=readme,</span><br><span class="line">    author=&apos;xxx&apos;,</span><br><span class="line">    author_email=&apos;xxx@gmail.com&apos;,</span><br><span class="line">    url=&apos;&apos;,</span><br><span class="line">    packages=find_packages(),</span><br><span class="line">    include_package_data=True,</span><br><span class="line">    install_requires=requires,</span><br><span class="line">    test_suite=&apos;nose.collector&apos;,</span><br><span class="line">    license=&apos;All rights reserved by xxx.&apos;,</span><br><span class="line">    zip_safe=False,</span><br><span class="line">    classifiers=(</span><br><span class="line">        &apos;Development Status :: 5 - Production/Stable&apos;,</span><br><span class="line">        &apos;Intended Audience :: Developers&apos;,</span><br><span class="line">        &apos;Natural Language :: English&apos;,</span><br><span class="line">        &apos;Programming Language :: Python&apos;,</span><br><span class="line">        &apos;Programming Language :: Python :: 2.7&apos;,</span><br><span class="line">    ),</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="setup-py官方文档"><a href="#setup-py官方文档" class="headerlink" title="setup.py官方文档"></a><a href="https://docs.python.org/2/distutils/setupscript.html" target="_blank" rel="noopener">setup.py官方文档</a></h3><h2 id="使用supervisor管理pypi-server"><a href="#使用supervisor管理pypi-server" class="headerlink" title="使用supervisor管理pypi-server"></a>使用supervisor管理pypi-server</h2><h3 id="1-生成run-pypi-sh文件，supervisor执行命令文件"><a href="#1-生成run-pypi-sh文件，supervisor执行命令文件" class="headerlink" title="1.生成run-pypi.sh文件，supervisor执行命令文件"></a>1.生成run-pypi.sh文件，supervisor执行命令文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line"># 启动virtualenv</span><br><span class="line">. ~/pypi/pypienv/bin/activate</span><br><span class="line">exec pypi-server -p 3141 ~/pypi/packages</span><br></pre></td></tr></table></figure>
<h3 id="2-生成supervisor配置文件，-etc-supervisor-conf-d-pypi-server-conf"><a href="#2-生成supervisor配置文件，-etc-supervisor-conf-d-pypi-server-conf" class="headerlink" title="2.生成supervisor配置文件，/etc/supervisor/conf.d/pypi-server.conf"></a>2.生成supervisor配置文件，/etc/supervisor/conf.d/pypi-server.conf</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[program:pypi-server]</span><br><span class="line">  directory=~/pypi/</span><br><span class="line">  command=sh run-pypi.sh</span><br><span class="line">  autostart=true</span><br><span class="line">  autorestart=true</span><br><span class="line">  redirect_stderr=true</span><br></pre></td></tr></table></figure>
<h3 id="3-启动和停止supervisor"><a href="#3-启动和停止supervisor" class="headerlink" title="3.启动和停止supervisor"></a>3.启动和停止supervisor</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ sudo /etc/init.d/supervisor start</span><br><span class="line">$ sudo /etc/init.d/supervisor stop</span><br></pre></td></tr></table></figure>
<h2 id="公有云pypi"><a href="#公有云pypi" class="headerlink" title="公有云pypi"></a>公有云pypi</h2><h3 id="1-将包的相关信息-根据PyPI账户的注册信息-在PyPI主页上注册。"><a href="#1-将包的相关信息-根据PyPI账户的注册信息-在PyPI主页上注册。" class="headerlink" title="1.将包的相关信息, 根据PyPI账户的注册信息, 在PyPI主页上注册。"></a>1.将包的相关信息, 根据PyPI账户的注册信息, 在PyPI主页上注册。</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python setup.py register -r pypi</span><br></pre></td></tr></table></figure>
<h3 id="2-将包的源代码内容打包上传。"><a href="#2-将包的源代码内容打包上传。" class="headerlink" title="2.将包的源代码内容打包上传。"></a>2.将包的源代码内容打包上传。</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python setup.py sdist upload -r pypi</span><br></pre></td></tr></table></figure>

                    
                        

                    
                    
                        <p>
                            <a href="/2017/09/08/pypi-server/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2017/09/08/gitlib-runner/">
                            gitlib-runner
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-09-08T17:26:17+08:00">
	
		    9月 08, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h3 id="1-使用docker运行gitlab-runner"><a href="#1-使用docker运行gitlab-runner" class="headerlink" title="1.使用docker运行gitlab-runner"></a>1.使用docker运行gitlab-runner</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">gitlab-runner:</span><br><span class="line">    container_name: gitlab-runner</span><br><span class="line">    image: gitlab/gitlab-runner:latest</span><br><span class="line">    restart: always</span><br><span class="line">    volumes:</span><br><span class="line">        - /etc/localtime:/etc/localtime</span><br><span class="line">        - /home/data/docker/gitlab-runner/home/.pypirc:/root/.pypirc</span><br><span class="line">        - /var/run/docker.sock:/var/run/docker.sock</span><br><span class="line">        - /home/data/docker/gitlab-runner/config:/etc/gitlab-runner</span><br><span class="line">    command: [run, --working-directory=/home/gitlab-runner]</span><br><span class="line">    dns:</span><br><span class="line">        - 192.168.0.100</span><br></pre></td></tr></table></figure>
<h3 id="2-进入docker"><a href="#2-进入docker" class="headerlink" title="2.进入docker"></a>2.进入docker</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo docker exec -it gitlab-runner bash</span><br></pre></td></tr></table></figure>
<h3 id="3-执行gitlab-runner或gitlab-ci-multi-runner-reigster"><a href="#3-执行gitlab-runner或gitlab-ci-multi-runner-reigster" class="headerlink" title="3.执行gitlab-runner或gitlab-ci-multi-runner reigster"></a>3.执行gitlab-runner或gitlab-ci-multi-runner reigster</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ sudo gitlab-runner register</span><br><span class="line"></span><br><span class="line">Please enter the gitlab-ci coordinator URL (e.g. https://gitlab.com )</span><br><span class="line">## 输入gitlab地址</span><br><span class="line">Please enter the gitlab-ci token for this runner</span><br><span class="line">## gitlab的token(在gitlab的Admin Area中) 或者仓库的token(仓库-&gt;设置-&gt;Runner)</span><br><span class="line">Please enter the gitlab-ci description for this runner</span><br><span class="line">## Runner描述信息</span><br><span class="line">Please enter the gitlab-ci tags for this runner (comma separated):</span><br><span class="line">## Runner的标签 可以指定仓库，之后在.gitlab-ci.yml中配置相对应tags </span><br><span class="line">Please enter the executor: parallels, shell, ssh, virtualbox, docker+machine, docker-ssh+machine, docker, docker-ssh, kubernetes:</span><br><span class="line">docker  ## 执行类型 </span><br><span class="line">Please enter the Docker image (eg. ruby:2.1):</span><br><span class="line">build-image  ## 编译环境的镜像</span><br><span class="line">Runner registered successfully. Feel free to start it, but if it&apos;s running already the config should be automatically reloaded!</span><br></pre></td></tr></table></figure>
<p>注册runner执行类型有多种方式，具体参考：<a href="https://docs.gitlab.com/ce/ci/docker/using_docker_build.html" target="_blank" rel="noopener">Using Docker Build</a></p>
<h3 id="4-查看已经注册的runner"><a href="#4-查看已经注册的runner" class="headerlink" title="4.查看已经注册的runner"></a>4.查看已经注册的runner</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gitlab-runner list</span><br><span class="line">Listing configured runners                          ConfigFile=/mypath/.gitlab-runner/config.toml</span><br></pre></td></tr></table></figure>
<h3 id="5-配置-gitlab-ci-yml"><a href="#5-配置-gitlab-ci-yml" class="headerlink" title="5.配置.gitlab-ci.yml"></a>5.配置.gitlab-ci.yml</h3><p>详情参考：<a href="https://docs.gitlab.com/ce/ci/yaml/README.html" target="_blank" rel="noopener">gitlab-ci说明文档</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2017/09/08/gitlib-runner/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2017/08/21/fibonacci/">
                            Python实现斐波那契
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-08-21T18:41:40+08:00">
	
		    8月 21, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p>斐波那契数列(Fibonacci sequence)，又称黄金分割数列，也称为”兔子数列”：<br>F(0)=0,F(1)=1,F(n)=F(n-1)+F(n-2) （n $\ge$ 2, n $\in$ N*)。例如 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233，377，610，987，1597，2584，4181，6765，10946，17711，28657，46368……..这个数列从第3项开始，每一项都等于前两项之和，而且当n趋向于无穷大时，前一项与后一项的比值越来越逼近黄金分割比例0.618。  </p>
<p>不同方法实现斐波那契：   </p>
<h3 id="普通循环"><a href="#普通循环" class="headerlink" title="普通循环"></a>普通循环</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/bin/env python</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(n)</span>:</span></span><br><span class="line">    a, b = <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">        a, b = b, a + b</span><br><span class="line">    <span class="keyword">return</span> a</span><br></pre></td></tr></table></figure>
<h3 id="递归版本"><a href="#递归版本" class="headerlink" title="递归版本"></a>递归版本</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/bin/env python</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="number">0</span> == n:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">elif</span> <span class="number">1</span> == n:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> fib(n - <span class="number">1</span>) + fib(n - <span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<h3 id="迭代器版本"><a href="#迭代器版本" class="headerlink" title="迭代器版本"></a>迭代器版本</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fib</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        self.a = <span class="number">0</span></span><br><span class="line">        self.b = <span class="number">1</span></span><br><span class="line">        self.n = n</span><br><span class="line">        self.count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">next</span><span class="params">(self)</span>:</span></span><br><span class="line">        result = self.a</span><br><span class="line">        self.a, self.b = self.b, self.a + self.b</span><br><span class="line">        <span class="keyword">if</span> self.count &gt; self.n:</span><br><span class="line">            <span class="keyword">raise</span> StopIteration</span><br><span class="line">        self.count += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

                    
                        

                    
                    
                        <p>
                            <a href="/2017/08/21/fibonacci/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2017/08/21/产品分析/">
                            竞品分析
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-08-21T18:41:40+08:00">
	
		    8月 21, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="互动现场"><a href="#互动现场" class="headerlink" title="互动现场"></a>互动现场</h1><p>##竞品</p>
<p>竞迪微现场：<a href="http://wxc.vshangtong.com" target="_blank" rel="noopener">http://wxc.vshangtong.com</a> </p>
<p>有娱：<a href="http://screen.weijuju.com/admin/meeting/main.jsp" target="_blank" rel="noopener">http://screen.weijuju.com/admin/meeting/main.jsp</a> </p>
<p>趣现场：<a href="http://www.quxianchang.com/mall" target="_blank" rel="noopener">http://www.quxianchang.com/mall</a> </p>
<p>欢乐现场：<a href="https://www.huanle001.com/my#/activity" target="_blank" rel="noopener">https://www.huanle001.com/my#/activity</a> </p>
<p>思迅互动：<a href="https://www.sessionhd.com/charge.html" target="_blank" rel="noopener">https://www.sessionhd.com/charge.html</a> </p>
<p>开心大屏：<a href="http://www.kxdpm.com" target="_blank" rel="noopener">http://www.kxdpm.com</a> </p>
<p>嗨现场：<a href="https://www.hixianchang.com" target="_blank" rel="noopener">https://www.hixianchang.com</a> </p>
<p>乐现场： <a href="http://scene.ledouya.com/#vote" target="_blank" rel="noopener">http://scene.ledouya.com/#vote</a> </p>
<p>简互动：<a href="https://www.jianhudong.com/" target="_blank" rel="noopener">https://www.jianhudong.com/</a> </p>
<p>会易行：<a href="https://www.huiyixing.com/YearMeeting" target="_blank" rel="noopener">https://www.huiyixing.com/YearMeeting</a> </p>
<p>31会议：<a href="https://www.31huiyi.com/" target="_blank" rel="noopener">https://www.31huiyi.com/</a></p>
<h1 id="互动营销"><a href="#互动营销" class="headerlink" title="互动营销"></a>互动营销</h1><h2 id="竞品"><a href="#竞品" class="headerlink" title="竞品"></a>竞品</h2><p>抽奖乐：<a href="http://www.choujiangle.cn/" target="_blank" rel="noopener">http://www.choujiangle.cn/</a></p>
<p>简互动：<a href="https://www.jianhudong.com/" target="_blank" rel="noopener">https://www.jianhudong.com/</a></p>
<p>活动盒子：<a href="http://www.huodonghezi.com/" target="_blank" rel="noopener">http://www.huodonghezi.com/</a></p>
<p>抽奖管家：<a href="http://cj.bianxianguanjia.com" target="_blank" rel="noopener">http://cj.bianxianguanjia.com</a></p>
<p>赢销+：<a href="http://www.beetobees.com" target="_blank" rel="noopener">http://www.beetobees.com</a></p>
<p>凡科：<a href="https://www.fkw.com/" target="_blank" rel="noopener">https://www.fkw.com/</a></p>
<p>活动H5之家：<a href="http://www.h5huodong.com/" target="_blank" rel="noopener">http://www.h5huodong.com/</a></p>
<p>嘉尚科技：<a href="http://www.stjscz.com/" target="_blank" rel="noopener">http://www.stjscz.com/</a>    凡科代理</p>
<p>竞迪互动：<a href="http://www.shangjiahai.com" target="_blank" rel="noopener">http://www.shangjiahai.com</a></p>
<p>易速推：<a href="http://www.yisutui.com" target="_blank" rel="noopener">http://www.yisutui.com</a></p>
<p>有娱：<a href="http://youyu.weijuju.com" target="_blank" rel="noopener">http://youyu.weijuju.com</a></p>
<p>人人秀：<a href="https://www.rrxiu.net" target="_blank" rel="noopener">https://www.rrxiu.net</a></p>
<p>秀赞：<a href="http://www.xiuzan.com" target="_blank" rel="noopener">http://www.xiuzan.com</a></p>
<p>易起玩：<a href="http://www.17koko.com/" target="_blank" rel="noopener">http://www.17koko.com/</a></p>
<p>开心推：<a href="https://www.kxtui.com/gset.jsp" target="_blank" rel="noopener">https://www.kxtui.com/gset.jsp</a></p>
<p>24好玩：<a href="https://www.24haowan.com/games" target="_blank" rel="noopener">https://www.24haowan.com/games</a></p>
<p>型科科技：<a href="https://www.wan9527.com/" target="_blank" rel="noopener">https://www.wan9527.com/</a>    偏定制，如有和案例相同的需求，可直接联系客服询价</p>
<p>意派：<a href="https://www.epub360.com/" target="_blank" rel="noopener">https://www.epub360.com/</a>    根据单个游戏模板收费</p>
<p>亿众互动：<a href="http://www.easy-all.net（定制，非SAAS）" target="_blank" rel="noopener">http://www.easy-all.net（定制，非SAAS）</a></p>
<h1 id="SEO地址"><a href="#SEO地址" class="headerlink" title="SEO地址"></a>SEO地址</h1><p><a href="https://cn.china.cn/" target="_blank" rel="noopener">https://cn.china.cn/</a>    用户名：xiangjy1982 密码：zhengyi123456</p>
<p><a href="https://www.21food.cn/" target="_blank" rel="noopener">https://www.21food.cn/</a>    用户名：xiangjy 密码：zhengyi123456</p>
<p><a href="https://www.jb51.net" target="_blank" rel="noopener">https://www.jb51.net</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2017/08/21/产品分析/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2017/08/21/二维码生成/">
                            二维码生成源码
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-08-21T18:41:40+08:00">
	
		    8月 21, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="二维码生成"><a href="#二维码生成" class="headerlink" title="二维码生成"></a>二维码生成</h1><p>二维码生成</p>
<p><a href="https://github.com/sylnsfar/qrcode" target="_blank" rel="noopener">https://github.com/sylnsfar/qrcode</a></p>
<p>图片背景二维码</p>
<p><a href="https://github.com/aralejs/qrcode" target="_blank" rel="noopener">https://github.com/aralejs/qrcode</a></p>
<p>艺术二维码</p>
<p><a href="https://github.com/252860883/Art-QRCode-min" target="_blank" rel="noopener">https://github.com/252860883/Art-QRCode-min</a></p>
<p>变色龙二维码</p>
<p><a href="https://qrmake.cn/" target="_blank" rel="noopener">https://qrmake.cn/</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2017/08/21/二维码生成/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2017/08/21/好用小工具/">
                            好用小工具
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-08-21T18:41:40+08:00">
	
		    8月 21, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="好用小工具"><a href="#好用小工具" class="headerlink" title="好用小工具"></a>好用小工具</h1><p>图片压缩</p>
<p><a href="https://www.bejson.com/ui/compress_img/" target="_blank" rel="noopener">https://www.bejson.com/ui/compress_img/</a></p>
<p><a href="https://tinypng.com/" target="_blank" rel="noopener">https://tinypng.com/</a></p>
<p>音频压缩</p>
<p><a href="https://online-audio-converter.com/cn/" target="_blank" rel="noopener">https://online-audio-converter.com/cn/</a></p>
<p>抠图</p>
<p><a href="https://www.gaoding.com/" target="_blank" rel="noopener">https://www.gaoding.com/</a></p>
<p>PDF</p>
<p><a href="https://smallpdf.com" target="_blank" rel="noopener">https://smallpdf.com</a></p>
<p>二维码</p>
<p><a href="https://cli.im" target="_blank" rel="noopener">https://cli.im</a></p>
<p><a href="http://qrmake.cn/" target="_blank" rel="noopener">http://qrmake.cn</a></p>
<p><a href="https://github.com/252860883/Art-QRCode-min" target="_blank" rel="noopener">https://github.com/252860883/Art-QRCode-min</a></p>
<p><a href="https://github.com/sylnsfar/qrcode" target="_blank" rel="noopener">https://github.com/sylnsfar/qrcode</a></p>
<p>图片处理</p>
<p><a href="https://www.remove.bg/" target="_blank" rel="noopener">https://www.remove.bg/</a></p>
<p><a href="https://burner.bonanza.com/" target="_blank" rel="noopener">https://burner.bonanza.com/</a></p>
<p><a href="https://www.fotor.com.cn/zhaopian/zaixiankoutu.html" target="_blank" rel="noopener">https://www.fotor.com.cn/zhaopian/zaixiankoutu.html</a></p>
<p><a href="https://github.com/foamliu/Deep-Image-Matting" target="_blank" rel="noopener">https://github.com/foamliu/Deep-Image-Matting</a></p>
<p><a href="https://github.com/egoist/logo-maker" target="_blank" rel="noopener">https://github.com/egoist/logo-maker</a></p>
<p><a href="https://www.bejson.com/ui/compress_img/" target="_blank" rel="noopener">https://www.bejson.com/ui/compress_img/</a></p>
<p>根据文字生成字符画</p>
<p><a href="https://link.jianshu.com?t=http://patorjk.com/software/taag" target="_blank" rel="noopener">http://patorjk.com/software/taag</a><br> <a href="https://link.jianshu.com?t=http://www.network-science.de/ascii/" target="_blank" rel="noopener">http://www.network-science.de/ascii/</a></p>
<p>根据图片生成字符画</p>
<p><a href="https://link.jianshu.com?t=http://www.degraeve.com/img2txt.php" target="_blank" rel="noopener">http://www.degraeve.com/img2txt.php</a><br> <a href="https://link.jianshu.com?t=http://life.chacuo.net/convertphoto2char" target="_blank" rel="noopener">http://life.chacuo.net/convertphoto2char</a></p>
<p>根据流程图生成字符画</p>
<p><a href="https://link.jianshu.com?t=http://asciiflow.com/" target="_blank" rel="noopener">http://asciiflow.com/</a></p>
<p>博客评论</p>
<p><a href="https://valine.js.org/" target="_blank" rel="noopener">https://valine.js.org</a></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2017/08/21/好用小工具/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2017/08/21/阿里P9 李响/">
                            李响：这里想对年轻的工程师提一些个人建议。
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-08-21T18:41:40+08:00">
	
		    8月 21, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <p>##李响：这里想对年轻的工程师提一些个人建议。</p>
<ul>
<li><p>一定要多读代码。尤其是语言的标准库代码，知名的开源项目代码，或者其它超高使用频率的代码，提高自己的代码品味。</p>
</li>
<li><p>一定要多写代码。尤其是写可读性高、可维护性好的代码，尽量寻找有经验的工程师帮助自己 Review 代码，提高自己的代码能力和质量。</p>
</li>
<li><p>一定要多看、多想，看经典的系统设计，思考自己项目的架构和演进路线，找到志同道合的朋友一起探讨和研究，提高自己的设计、架构能力。</p>
</li>
<li><p>一定要多学，学习前沿的技术，为未来做好技术储备；学习领域内的顶会的论文，能够对未来有所预判；学习一些领域外的知识，比如市场、经济等，更多的了解通用事物的发展规律。每个人都有最适合自己的成长路线，对于年轻工程师来讲，最重要的还是能够专注在自己热爱的领域上，以最大的热情投入每天的工作，每天都能进步一点点。</p>
</li>
</ul>

                    
                        

                    
                    
                        <p>
                            <a href="/2017/08/21/阿里P9 李响/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2017/08/21/十种世界顶级思维/">
                            十种世界顶级思维
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-08-21T18:41:40+08:00">
	
		    8月 21, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h1 id="十种世界顶级思维"><a href="#十种世界顶级思维" class="headerlink" title="十种世界顶级思维"></a>十种世界顶级思维</h1><ol>
<li>墨菲定律</li>
</ol>
<p>如果有两种或两种以上的方式去做某件事情，而其中一种选择方式将导致灾难，则必定有人会做出这种选择。</p>
<p>解析：墨菲定律是一种心理学效应，由爱德华·墨菲提出。</p>
<p>根本内容：如果事情有变坏的可能，不管这种可能性有多小，它总会发生。</p>
<p>主要有四个方面:任何事都没有表面看起来那么简单;所有的事都会比你预计的时间长；会出错的事总会出错；如果你担心某种情况发生，那么它越有可能发生。</p>
<ol>
<li>波克定理</li>
</ol>
<p>只有在争辩中，才可能诞生最好的主意和最好的决定。</p>
<p>解析：提出者是美国庄臣公司总经理詹姆士·波克，</p>
<p>主要内容：无摩擦便无磨合，有争论才有高论。</p>
<ol>
<li>奥格尔维法则</li>
</ol>
<p>如果我们每个人都雇用比我们自己都更强的人，我们就能成为巨人公司。</p>
<p>解析：它强调的是人才的重要性。一个好的公司固然是因为它有好的产品，有好的硬件设施，有雄厚的财力作为支撑，但最重要的还是要有优秀的人才。光有财、物，并不能带来任何新的变化，只有具有大批的优秀人才才是最重要、最根本的。</p>
<ol>
<li>美既好效应</li>
</ol>
<p>对一个外表英俊漂亮的人，人们很容易误认为他或她的其他方面也很不错。</p>
<p>解析：美国心理学家丹尼尔·麦克尼尔提出，</p>
<p>主要内容：印象一旦以情绪为基础，这一印象常会偏离事实。 看不到优秀背面的东西，就不能很好地解读它。也就是（以貌取人）的另外一种说法。</p>
<ol>
<li>蓝斯登定律</li>
</ol>
<p>和一位朋友一起工作，远较在父亲之下工作有趣得多。</p>
<p>解析：给员工快乐的工作环境，可以提高工作效率。</p>
<p>主要内容:可敬不可亲，终可敬；有权没有威，常失权。</p>
<ol>
<li>洛伯定理</li>
</ol>
<p>对于一个经理人来说，最要紧的不是你在场时的情况，而是你不在场时发生了什么。</p>
<p>解析：让员工成为有工作责任的主人。</p>
<p>主要内容：如果只想让下属听你的，那么当你不在身边时他们就不知道应该听谁的了。</p>
<ol>
<li>刺猬理论</li>
</ol>
<p>刺猬在天冷时彼此靠拢取暖但保持一定距离，以免互相刺伤。</p>
<p>解析：在管理学中，刺猬理论强调的就是人际交往中的“心理距离效应”。运用到管理实践中，就是领导者如要搞好工作，应该与下属保持亲密关系，但这是“亲密有间”的关系，是一种不远不近的恰当合作关系。与下属保持心理距离，可以避免下属的防备和紧张，可以减少下属对自己的恭维、奉承等行为，可以防止与下属称兄道弟、吃喝不分。这样做既可以获得下属的尊重，又能保证在工作中不丧失原则。一个优秀的领导者和管理者，要做到疏者密之，密者疏之，这才是成功之道。</p>
<ol>
<li>托利得定理</li>
</ol>
<p>测验一个人的智力是否属于上乘，只看脑子里能否同时容纳两种相反的思想而无碍于其处世行事。</p>
<p>解析：思可相反，得须相成。</p>
<p>主要内容：人非圣贤，孰能无过。很多时候，我们都需要宽容，宽容不仅是给别人机会，更是为自己创造机会。同样老板在面对下属的微小过失时，则应有所容忍和掩盖，这样做是为了保全他人的体面和企业的利益。</p>
<ol>
<li>沃尔森法则</li>
</ol>
<p>把信息和情报放在第一位，金钱就会滚滚而来。</p>
<p>解析：你能得到多少，往往取决于你能知道多少。</p>
<p>主要内容：要在变幻莫测的市场竞争中立于不败之地，你就必须准确快速地获悉各种情报：市场有什么新动向？竞争对手有什么新举措？……在获得了这些情报后，果敢迅速地采取行动，这样你不成功都难。</p>
<ol>
<li>吉德林法则</li>
</ol>
<p>把难题清清楚楚地写出来，问题便已经解决了一半。</p>
<p>解析：谁都会遇到难题，人如此，企业也是如此。在瞬间万变的环境下，怎样才能最有效地解决难题，并没有一个固定的规律。但是，成功并不是没有程序可循的。遇到难题，不管你要怎样解决它，成功的前提是看清难题的关键在哪里。找到了问题的关键，也就找到了解决问题的方法，剩下的就是如何来具体实行了。</p>
<p><img src="https:////p1-tt.bytecdn.cn/img/tos-cn-i-0022/ff368811c4954edd90edbc07e15e1206~noop_690x862.jpeg" alt="img"></p>

                    
                        

                    
                    
                        <p>
                            <a href="/2017/08/21/十种世界顶级思维/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a class="link-unstyled" href="/2017/08/21/了解软件架构：Serverless架构、微服务架构、分布式架构、单体架构/">
                            serverLess文章转载
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2017-08-21T18:41:40+08:00">
	
		    8月 21, 2017
    	
    </time>
    
</div>

            </div>
            
                <div class="postShorten-content">
                    <h2 id="了解软件架构：Serverless架构、微服务架构、分布式架构、单体架构"><a href="#了解软件架构：Serverless架构、微服务架构、分布式架构、单体架构" class="headerlink" title="了解软件架构：Serverless架构、微服务架构、分布式架构、单体架构"></a>了解软件架构：Serverless架构、微服务架构、分布式架构、单体架构</h2><p>SimpleEasy talkwithtrend  <em>今天</em></p>
<p>如果一个软件开发人员，不了解软件架构的演进，会制约技术的选型和开发人员的生存、晋升空间。这里列举了目前主要的四种软件架构以及他们的优缺点，希望能够帮助软件开发人员拓展知识面。</p>
<h2 id="一、单体架构"><a href="#一、单体架构" class="headerlink" title="一、单体架构"></a><strong>一、单体架构</strong></h2><p>单体架构比较初级，典型的三级架构，前端(Web/手机端)+中间业务逻辑层+数据库层。这是一种典型的Java Spring mvc或者Python Drango框架的应用。其架构图如下所示：</p>
<p><img src="https://file.mmdry.com/image/jpg/serverless-single.jpeg" alt="img"></p>
<p>单体架构的应用比较容易部署、测试， 在项目的初期，单体应用可以很好地运行。然而，随着需求的不断增加， 越来越多的人加入开发团队，代码库也在飞速地膨胀。慢慢地，单体应用变得越来越臃肿，可维护性、灵活性逐渐降低，维护成本越来越高。下面是单体架构应用的一些<strong>缺点：</strong></p>
<p>复杂性高：以一个百万行级别的单体应用为例，整个项目包含的模块非常多、模块的边界模糊、 依赖关系不清晰、 代码质量参差不齐、 混乱地堆砌在一起。可想而知整个项目非常复杂。每次修改代码都心惊胆战， 甚至添加一个简单的功能， 或者修改一个Bug都会带来隐含的缺陷。</p>
<p>技术债务：随着时间推移、需求变更和人员更迭，会逐渐形成应用程序的技术债务， 并且越积 越多。“ 不坏不修”， 这在软件开发中非常常见， 在单体应用中这种思想更甚。已使用的系统设计或代码难以被修改，因为应用程序中的其他模块可能会以意料之外的方式使用它。</p>
<p>部署频率低：随着代码的增多，构建和部署的时间也会增加。而在单体应用中， 每次功能的变更或缺陷的修复都会导致需要重新部署整个应用。全量部署的方式耗时长、 影响范围大、 风险高， 这使得单体应用项目上线部署的频率较低。而部署频率低又导致两次发布之间会有大量的功能变更和缺陷修复，出错率比较高。</p>
<p>可靠性差：某个应用Bug，例如死循环、内存溢出等， 可能会导致整个应用的崩溃。</p>
<p>扩展能力受限：单体应用只能作为一个整体进行扩展，无法根据业务模块的需要进行伸缩。例如，应用中有的模块是计算密集型的，它需要强劲的CPU；有的模块则是IO密集型的，需要更大的内存。由于这些模块部署在一起，不得不在硬件的选择上做出妥协。</p>
<p>阻碍技术创新：单体应用往往使用统一的技术平台或方案解决所有的问题， 团队中的每个成员 都必须使用相同的开发语言和框架，要想引入新框架或新技术平台会非常困难。</p>
<h2 id="二、分布式应用"><a href="#二、分布式应用" class="headerlink" title="二、分布式应用"></a><strong>二、分布式应用</strong></h2><p>中级架构，分布式应用，中间层分布式+数据库分布式，是单体架构的并发扩展，将一个大的系统划分为多个业务模块，业务模块分别部署在不同的服务器上，各个业务模块之间通过接口进行数据交互。数据库也大量采用分布式数据库，如redis、ES、solor等。通过LVS/Nginx代理应用，将用户请求均衡的负载到不同的服务器上。其架构图如下所示：</p>
<p><img src="https://file.mmdry.com/image/jpg/serverless-distributed.jpeg" alt="img"></p>
<p>该架构相对于单体架构来说，这种架构提供了负载均衡的能力，大大提高了系统负载能力，解决了网站高并发的需求。另外还有以下特点：</p>
<p>降低了耦合度：把模块拆分,使用接口通信,降低模块之间的耦合度。</p>
<p>责任清晰：把项目拆分成若干个子项目,不同的团队负责不同的子项目。</p>
<p>扩展方便：增加功能时只需要再增加一个子项目,调用其他系统的接口就可以。</p>
<p>部署方便:可以灵活的进行分布式部署。</p>
<p>提高代码的复用性：比如service层,如果不采用分布式rest服务方式架构就会在手机wap商城,微信商城,pc,android，ios每个端都要写一个service层逻辑,开发量大,难以维护一起升级,这时候就可以采用分布式rest服务方式,公用一个service层。</p>
<p><strong>缺点 :</strong> 系统之间的交互要使用远程通信,接口开发增大工作量,但是利大于弊。</p>
<h2 id="三、微服务架构"><a href="#三、微服务架构" class="headerlink" title="三、微服务架构"></a><strong>三、微服务架构</strong></h2><p>微服务架构，主要是中间层分解，将系统拆分成很多小应用（微服务），微服务可以部署在不同的服务器上，也可以部署在相同的服务器不同的容器上。当应用的故障不会影响到其他应用，单应用的负载也不会影响到其他应用，其代表框架有Spring cloud、Dubbo等。其架构图如下所示：</p>
<p><img src="https://file.mmdry.com/image/jpg/serverless-microservice.jpeg" alt="img"></p>
<p>易于开发和维护：一个微服务只会关注一个特定的业务功能，所以它业务清晰、代码量较少。开发和维护单个微服务相对简单。而整个应用是由若干个微服务构建而成的，所以整个应用也会被维持在一个可控状态。</p>
<p>单个微服务启动较快：单个微服务代码量较少， 所以启动会比较快。</p>
<p>局部修改容易部署：单体应用只要有修改，就得重新部署整个应用，微服务解决了这样的问题。一般来说，对某个微服务进行修改，只需要重新部署这个服务即可。</p>
<p>技术栈不受限：在微服务架构中，可以结合项目业务及团队的特点，合理地选择技术栈。例如某些服务可使用关系型数据库MySQL；某些微服务有图形计算的需求，可以使用Neo4j；甚至可根据需要，部分微服务使用Java开发，部分微服务使用Node.js开发。</p>
<p>微服务虽然有很多吸引人的地方，但它并不是免费的午餐，使用它是有代价的。使用微服务架构面临的挑战。</p>
<p>运维要求较高：更多的服务意味着更多的运维投入。在单体架构中，只需要保证一个应用的正常运行。而在微服务中，需要保证几十甚至几百个服务服务的正常运行与协作，这给运维带来了很大的挑战。</p>
<p>分布式固有的复杂性：使用微服务构建的是分布式系统。对于一个分布式系统，系统容错、网络延迟、分布式事务等都会带来巨大的挑战。</p>
<p>接口调整成本高：微服务之间通过接口进行通信。如果修改某一个微服务的API，可能所有使用了该接口的微服务都需要做调整。</p>
<p>重复劳动：很多服务可能都会使用到相同的功能，而这个功能并没有达到分解为一个微服务的程度，这个时候，可能各个服务都会开发这一功能，从而导致代码重复。尽管可以使用共享库来解决这个问题（例如可以将这个功能封装成公共组件，需要该功能的微服务引用该组件），但共享库在多语言环境下就不一定行得通了。</p>
<h2 id="四、Serverless架构"><a href="#四、Serverless架构" class="headerlink" title="四、Serverless架构"></a><strong>四、Serverless架构</strong></h2><p><img src="https://file.mmdry.com/image/jpg/serverless.jpeg" alt="img"></p>
<p>2014年11月14日，亚马逊AWS发布了Lambda。当时Lambda被描述为：一种计算服务，根据时间运行用户的代码，无需关心底层的计算资源。从某种意义上来说，Lambda姗姗来迟，它像云计算的PaaS理念：客户只管业务，无需担心存储和计算资源。2014年10月22日，谷歌收购了实时后端数据库创业公司Firebase。Firebase声称开发者只需引用一个API库文件就可以使用标准REST API的各种接口对数据进行读写操作，只需编写HTML＋CSS＋JavaScrip前端代码，不需要服务器端代码（如需整合，也极其简单）。</p>
<p>相对于上两者，Facebook 在2014年二月收购的 Parse，则侧重于提供一个通用的后台服务。这些服务被称为Serverless或no sever。想到PaaS（平台即服务）了是吗？很像，用户不需要关心基础设施，只需要关心业务，这是迟到的PaaS，也是更实用的PaaS。这很有可能将会变革整个开发过程和传统的应用生命周期，一旦开发者们习惯了这种全自动的云上资源的创建和分配，或许就再也回不到那些需要微应用配置资源的时代里去了。</p>
<p>Serverless架构能够让开发者在构建应用的过程中无需关注计算资源的获取和运维，由平台来按需分配计算资源并保证应用执行的SLA（服务等级协议），按照调用次数进行计费，有效的节省应用成本。ServerLess的架构如上图所示。其优点如下所示：</p>
<p>低运营成本：在业务突发性极高的场景下，系统为了应对业务高峰，必须构建能够应对峰值需求的系统，这个系统在大部分时间是空闲的，这就导致了严重的资源浪费和成本上升。在微服务架构中，服务需要一直运行，实际上在高负载情况下每个服务都不止一个实例，这样才能完成高可用性；在Serverless架构下，服务将根据用户的调用次数进行计费，按照云计算pay-as-you-go原则，如果没有东西运行，你就不必付款，节省了使用成本。同时，用户能够通过共享网络、硬盘、CPU等计算资源，在业务高峰期通过弹性扩容方式有效的应对业务峰值，在业务波谷期将资源分享给其他用户，有效的节约了成本。</p>
<p>简化设备运维：在原有的IT体系中，开发团队即需要维护应用程序，同时还要维护硬件基础设施；Serverless架构中，开发人员面对的将是第三方开发或自定义的API 和URL，底层硬件对于开发人员透明化了，技术团队无需再关注运维工作，能够更加专注于应用系统开发。</p>
<p>提升可维护性：Serverless架构中，应用程序将调用多种第三方功能服务，组成最终的应用逻辑。目前，例如登陆鉴权服务，云数据库服务等第三方服务在安全性、可用性、性能方面都进行了大量优化，开发团队直接集成第三方的服务，能够有效的降低开发成本，同时使得应用的运维过程变得更加清晰，有效的提升了应用的可维护性。</p>
<p>更快的开发速度：这一点在现在互联网创业公司得到很好的体现，创业公司往往开始由于人员和资金等问题，不可能每个产品线都同时进行，这时候就可以考虑第三方的Baas平台，比如使用微信的用户认证、阿里云提供的RDS，第三方支付及地理位置等等，能够很快进行产品开发的速度，把工作重点放在业务实现上，把产品更快的推向市场。</p>
<p>但ServerLess架构也有其<strong>缺点：</strong></p>
<p>厂商平台绑定：平台会提供Serverless架构给大玩家，比如AWS Lambda，运行它需要使用AWS指定的服务，比如API网关，DynamoDB，S3等等，一旦你在这些服务上开发一个复杂系统，你会粘牢AWS，以后只好任由他们涨价定价或者下架等操作，个性化需求很难满足，不能进行随意的迁移或者迁移的成本比较大，同时不可避免带来一些损失。Baas行业内一个比较典型的事件，2016年1月19日Facebook关闭曾经花巨额资金收购的Parse，造成用户不得不迁移在这个平台中产生一年多的数据，无疑需要花费比较大的人力和时间成本。</p>
<p>成功案例比较少，没有行业标准：目前的情况也只适合简单的应用开发，缺乏大型成功案例的推动。对于Serverless缺乏统一的认知以及相应的标准，无法适应所有的云平台。</p>
<p>目前微服务架构在四种架构中处于主流地位，很多应用第一、第二种架构的企业也开始慢慢转向微服务架构。到目前为止微服务的技术相对于二三年前已经比较成熟，第四种架构将是未来发展的一种趋势。</p>

                    
                        

                    
                    
                        <p>
                            <a href="/2017/08/21/了解软件架构：Serverless架构、微服务架构、分布式架构、单体架构/#post-footer" class="postShorten-excerpt_link link">
                                评论和共享
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
          <li class="pagination-prev">
            <a class="btn btn--default btn--small" href="/archives/">
              <i class="fa fa-angle-left text-base icon-mr"></i>
              <span>上一页</span>
            </a>
          </li>
        
        
          <li class="pagination-next">
            <a class="btn btn--default btn--small" href="/archives/page/3/">
              <span>下一页</span>
              <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
          </li>
        
        <li class="pagination-number">第 2 页 共 3 页</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2019 Xiangjy. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/dx.png" alt="作者的图片">
        
            <h4 id="about-card-name">Xiangjy</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-dbd16rvloemmuxdzniplmnxxvwoz24eya9wol0b7vvmlokgqsjivmb8dnscy.min.js"></script>
<!--SCRIPTS END--><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({"tex2jax":{"inlineMath":[["$","$"],["\\(","\\)"]],"skipTags":["script","noscript","style","textarea","pre","code"],"processEscapes":true},"TeX":{"equationNumbers":{"autoNumber":"AMS"}}});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->



    </body>
</html>
